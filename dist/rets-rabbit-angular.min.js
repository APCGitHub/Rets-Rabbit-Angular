!function(){"use strict";function t(t){t.interceptors.push("SessionInterceptorFactory")}angular.module("rets-rabbit-angular.config",[]).config(t),t.$inject=["$httpProvider"]}();
!function(){"use strict";angular.module("rets-rabbit-angular",["rets-rabbit-angular.config","rets-rabbit-angular.factories","rets-rabbit-angular.providers"])}();
!function(){"use strict";function e(e,t,n,o){function r(){var r=t.defer();return e({method:"POST",url:o.baseUrl+"api/oauth/access_token",config:{ignoreAuth:!0},data:{client_id:o.clientId,client_secret:o.clientSecret,grant_type:"client_credentials"}}).success(function(e){n.localStorage.setItem("token",e.access_token),console.log(n.localStorage.getItem("token")),r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}var c={getToken:r};return c}angular.module("rets-rabbit-angular.factory.auth",[]).factory("RRAuthFactory",e),e.$inject=["$http","$q","$window","ApiConfig"]}();
!function(){"use strict";function e(){function e(){return[{name:"ListPrice",type:"Number"},{name:"ListingId",type:"String"},{name:"ListingKey",type:"Number"},{name:"OriginatingSystemKey",type:"String"},{name:"StandardStatus",type:"String"},{name:"ListingContractDate",type:"Date"},{name:"PurchaseContractDate",type:"Date"},{name:"CloseDate",type:"Date"},{name:"ModificationTimestamp",type:"Timestamp"},{name:"StatusChangeTimestamp",type:"Timestamp"},{name:"MajorChangeType",type:"String"},{name:"OriginalEntryTimestamp",type:"Timestamp"},{name:"OnMarketTimestamp",type:"Timestamp"},{name:"OffMarketTimestamp",type:"Timestamp"},{name:"DaysOnMarket",type:"Number"},{name:"CumulativeDaysOnMarket",type:"Number"},{name:"ClosePrice",type:"Number"},{name:"ListPrice",type:"Number"},{name:"OriginalListPrice",type:"Number"},{name:"ListPriceLow",type:"Number"},{name:"InternetEntireListingDisplayYN",type:"Boolean"},{name:"InternetAddressDisplayYN",type:"Boolean"},{name:"PhotosCount",type:"Number"},{name:"PhotosChangeTimestamp",type:"Timestamp"},{name:"VirtualTourURLUnbranded",type:"String"},{name:"PublicRemarks",type:"String"},{name:"StreetNumber",type:"String"},{name:"StreetNumberNumeric",type:"Number"},{name:"StreetName",type:"String"},{name:"StreetSuffix",type:"String"},{name:"City",type:"String"},{name:"StateOrProvince",type:"String"},{name:"PostalCode",type:"Number"},{name:"PostalCodePlus4",type:"Number"},{name:"CountyOrParish",type:"String"},{name:"MLSAreaMajor",type:"String"},{name:"Directions",type:"String"},{name:"ListAgentFirstName",type:"String"},{name:"ListAgentLastName",type:"String"},{name:"ListAgentMlsId",type:"String"},{name:"ListAgentStateLicense",type:"Number"},{name:"ListOfficeName",type:"String"},{name:"ListOfficeMlsId",type:"String"},{name:"BuyerAgentFirstName",type:"String"},{name:"BuyerAgentLastName",type:"String"},{name:"BuyerAgentMlsId",type:"String"},{name:"BuyerAgentStateLicense",type:"Number"},{name:"BuyerOfficeName",type:"String"},{name:"BuyerOfficeMlsId",type:"String"}]}var t={fields:e};return t}angular.module("rets-rabbit-angular.factory.metadata",[]).factory("MetadataFactory",e)}();
!function(){"use strict";angular.module("rets-rabbit-angular.factories",["rets-rabbit-angular.factory.auth","rets-rabbit-angular.factory.metadata","rets-rabbit-angular.factory.queries","rets-rabbit-angular.factory.properties","rets-rabbit-angular.factory.session.interceptor"])}();
!function(){"use strict";function e(e,r,t,o){function a(a,n){var c=r.defer();return e.get(o.apiUrl+"property/"+a,{params:n,headers:{Authorization:"Bearer "+t.localStorage.getItem("token")}}).success(function(e){var r=e.value;c.resolve(r)}).error(function(e){c.reject(e)}),c.promise}function n(){var a=r.defer();return e.get(o.apiUrl+"property/$metadata",{headers:{Authorization:"Bearer "+t.localStorage.getItem("token")}}).success(function(e){a.resolve(e)}).error(function(e){a.reject(e)}),a.promise}function c(a){var n=r.defer();encodeURIComponent(a);return e.get(o.apiUrl+"property?"+a,{headers:{Accept:"odata.metadata=full",Authorization:"Bearer "+t.localStorage.getItem("token")}}).success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}var i={findOne:a,metadata:n,search:c};return i}angular.module("rets-rabbit-angular.factory.properties",[]).factory("PropertyFactory",e),e.$inject=["$http","$q","$window","ApiConfig"]}();
!function(){"use strict";function e(){function e(){return[{title:"Equals Comparison",description:"Get properties where the Listing Agent's last name (field ListAgentLastName) is 'Smith' (case sensitive).",query:{select:"ListingId, ListPrice, ListAgentFirstName, ListAgentLastName",filter:[{value:"ListAgentLastName eq 'Smith'",join:"and"}],orderby:[],top:"",skip:""}},{title:"Multiple Field Values",description:"This query gets properties where the listing agent's last name is either 'Smith' or 'Doe'.",query:{select:"ListingId, ListPrice, ListAgentFirstName",filter:[{value:"ListAgentLastName eq 'Doe'",join:"or"},{value:"ListAgentLastName eq 'Smith'",join:"and"}],orderby:[],top:"",skip:""}},{title:"Wildcard Search",description:"You can do wildcard or case insensitive searches by using the special string functions with the $filter option.",query:{select:"ListingId, ListPrice, ListAgentFirstName",filter:[{value:"startswith(ListAgentFirstName, 'joh')",join:"and"}],orderby:[],top:"",skip:""}},{title:"Numeric Range",description:"This query selects properties with a listing price between $50K & $200K .",query:{select:"ListingId, ListPrice",filter:[{value:"ListPrice ge 50000",join:"and"},{value:"ListPrice le 200000",join:""}],orderby:[],top:"",skip:""}},{title:"Date Filtering",description:"This query gets properties listed in June 2016 by the ListingContractDate field.",query:{select:"ListingId, ListPrice, ListingContractDate",filter:[{value:"year(ListingContractDate) eq 2016",join:"and"},{value:"month(ListingContractDate) eq 6",join:""}],orderby:[],top:"",skip:""}},{title:"Sorting",description:"This query is sorted (asc) by the ListPrice field.",query:{select:"ListingId, ListPrice, ListingContractDate",filter:[{value:"year(ListingContractDate) eq 2016",join:"and"},{value:"month(ListingContractDate) eq 6",join:""}],orderby:[{value:"ListPrice",direction:"asc"}],top:"",skip:""}},{title:"Pagination",description:"This query gets the next set of results by passing a $skip parameter value of 11 with a $top value of 10.",query:{select:"ListingId, ListPrice, ListingContractDate",filter:[{value:"year(ListingContractDate) eq 2016",join:"and"},{value:"month(ListingContractDate) eq 6",join:""}],orderby:[{value:"ListPrice",direction:"asc"}],top:"10",skip:"11"}}]}var t={queries:e};return t}angular.module("rets-rabbit-angular.factory.queries",[]).factory("QueryFactory",e)}();
!function(){"use strict";function r(r,t){function e(e){console.log(e.config);var c=e.config||{};if(!c.ignoreAuth&&401==e.status&&o>n){n++;var i=r.get("RRAuthFactory"),s=r.get("$http"),u=t.defer();return i.getToken().then(u.resolve,u.reject),u.promise.then(function(){return s(e.config)})}return n=0,t.reject(e)}var n=0,o=5,c={responseError:e};return c}angular.module("rets-rabbit-angular.factory.session.interceptor",[]).factory("SessionInterceptorFactory",r),r.$inject=["$injector","$q"]}();
!function(){"use strict";function e(){var e={baseUrl:"https://stage.retsrabbit.com/",apiEndPoint:"api/v2/",clientId:"",clientSecret:""},t={setBaseUrl:function(t){""!==t&&(e.baseUrl=t,"/"!==e.baseUrl[e.baseUrl.length-1]&&(e.baseUrl+="/"))},setApiEndPoint:function(t){e.api=t},setClientId:function(t){e.clientId=t},setClientSecret:function(t){e.clientSecret=t},$get:function(){return{baseUrl:e.baseUrl,apiUrl:e.baseUrl+e.apiEndPoint,clientId:e.clientId,clientSecret:e.clientSecret}}};return t}angular.module("rets-rabbit-angular.provider.api",[]).provider("ApiConfig",e),e.$inject=[]}();
!function(){"use strict";angular.module("rets-rabbit-angular.providers",["rets-rabbit-angular.provider.api"])}();