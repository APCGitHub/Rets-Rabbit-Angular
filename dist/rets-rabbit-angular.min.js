!function(){"use strict";angular.module("rets-rabbit-angular",["rets-rabbit-angular.factories","rets-rabbit-angular.providers"])}();
!function(){"use strict";function t(t,e,n,r){function c(){var c=e.defer();return t({method:"POST",url:r.baseUrl+"api/oauth/access_token",data:{client_id:r.clientId,client_secret:r.clientSecret,grant_type:"client_credentials"}}).success(function(t){n.localStorage.setItem("token",t.access_token),c.resolve(t)}).error(function(t){c.reject(t)}),c.promise}var a={getToken:c};return a}angular.module("rets-rabbit-angular.factory.auth",[]).factory("RRAuthFactory",t),t.$inject=["$http","$q","$window","ApiConfig"]}();
!function(){"use strict";angular.module("rets-rabbit-angular.factories",["rets-rabbit-angular.factory.auth","rets-rabbit-angular.factory.properties"])}();
!function(){"use strict";function e(e,r,t,o){function a(a,n){var c=r.defer();return e.get(o.apiUrl+"property/"+a,{params:n,headers:{Authorization:"Bearer "+t.localStorage.getItem("token")}}).success(function(e){var r=e.value;c.resolve(r)}).error(function(e){c.reject(e)}),c.promise}function n(){var a=r.defer();return e.get(o.apiUrl+"property/$metadata",{headers:{Authorization:"Bearer "+t.localStorage.getItem("token")}}).success(function(e){a.resolve(e)}).error(function(e){a.reject(e)}),a.promise}function c(a){console.log("search query: "+a);var n=r.defer(),c=encodeURIComponent(a);return console.log("encoded query: "+c),e.get(o.apiUrl+"property?"+a,{headers:{Accept:"odata.metadata=full",Authorization:"Bearer "+t.localStorage.getItem("token")}}).success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}var i={findOne:a,metadata:n,search:c};return i}angular.module("rets-rabbit-angular.factory.properties",[]).factory("PropertyFactory",e),e.$inject=["$http","$q","$window","ApiConfig"]}();
!function(){"use strict";function e(){var e={baseUrl:"https://stage.retsrabbit.com/",apiEndPoint:"api/v2/",clientId:"",clientSecret:""},t={setBaseUrl:function(t){""!==t&&(e.baseUrl=t,"/"!==e.baseUrl[e.baseUrl.length-1]&&(e.baseUrl+="/"))},setApiEndPoint:function(t){e.api=t},setClientId:function(t){e.clientId=t},setClientSecret:function(t){e.clientSecret=t},$get:function(){return{baseUrl:e.baseUrl,apiUrl:e.baseUrl+e.apiEndPoint,clientId:e.clientId,clientSecret:e.clientSecret}}};return t}angular.module("rets-rabbit-angular.provider.api",[]).provider("ApiConfig",e),e.$inject=[]}();
!function(){"use strict";angular.module("rets-rabbit-angular.providers",["rets-rabbit-angular.provider.api"])}();